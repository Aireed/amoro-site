




























<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Quickstart Setup</title>

    
    















<link href="/css/bootstrap.css" rel="stylesheet">


<link href="/css/markdown.css" rel="stylesheet">
<link href="/css/katex.min.css" rel="stylesheet">





<link href="/css/amoro-theme.css" rel="stylesheet">


<link href="/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">


<link href="/css/termynal.css" rel="stylesheet">

<link href="/css/home-page.css" rel="stylesheet">


    
    
    

</head>
<body>

<head>
    <script>
        
        function addAnchor(element) {
            element.insertAdjacentHTML('beforeend', `<a href="#${element.id}" class="anchortag" ariaLabel="Anchor"> ðŸ”— </a>` )
        }
        document.addEventListener('DOMContentLoaded', function () {
            var headers = document.querySelectorAll('h1[id], h2[id], h3[id], h4[id]')
            if (headers) {
                headers.forEach(addAnchor)
            }
        });
    </script>
</head>















    <nav class="navbar navbar-default" role="navigation">
        <topsection>
            <div class="navbar-fixed-top">
                <div>
                <a class="page-scroll navbar-brand" href="https://amoro.apache.org/"><img class="top-navbar-logo" src="https://amoro.apache.org//img/amoro-logo-icon.png"/></a>
                </div>
            </div>
            <div class="navbar-menu-fixed-top navbar-pages-group">
                
                
                
                
                
                    
                    <div class="versions-dropdown">
                    <div class="topnav-page-selection">
                        <a   href="">Quickstart</a> <i class="fa fa-caret-down"></i>
                    </div class="topnav-page-selection">
                        <div class="versions-dropdown-content">
                        <ul>
                        
                            <li class="topnav-page-selection">
                            <a   href="/quickstart-setup/">Setup</a>
                            </li class="topnav-page-selection">
                        
                            <li class="topnav-page-selection">
                            <a   href="/quick-demo/">Quick Demo</a>
                            </li class="topnav-page-selection">
                        
                        </ul>
                        </div>
                    </div>
                
                
                
                
                    
                    <div class="versions-dropdown">
                    <div class="topnav-page-selection">
                        <a   href="">Docs</a> <i class="fa fa-caret-down"></i>
                    </div class="topnav-page-selection">
                        <div class="versions-dropdown-content">
                        <ul>
                        
                            <li class="topnav-page-selection">
                            <a   href="/docs/latest/">latest</a>
                            </li class="topnav-page-selection">
                        
                            <li class="topnav-page-selection">
                            <a   href="/docs/0.6.1/">0.6.1</a>
                            </li class="topnav-page-selection">
                        
                        </ul>
                        </div>
                    </div>
                
                
                
                
                    
                    <div class="versions-dropdown">
                    <div class="topnav-page-selection">
                        <a   href="">Benchmark</a> <i class="fa fa-caret-down"></i>
                    </div class="topnav-page-selection">
                        <div class="versions-dropdown-content">
                        <ul>
                        
                            <li class="topnav-page-selection">
                            <a   href="/benchmark-report/">Benchmark Report</a>
                            </li class="topnav-page-selection">
                        
                            <li class="topnav-page-selection">
                            <a   href="/benchmark-guide/">Benchmark Guide</a>
                            </li class="topnav-page-selection">
                        
                        </ul>
                        </div>
                    </div>
                
                
                
                
                    <div class="topnav-page-selection">
                        <a   href="/download/">Download</a>
                    </div class="topnav-page-selection">
                
                
                
                
                    <div class="topnav-page-selection">
                        <a   href="/roadmap/">Roadmap</a>
                    </div class="topnav-page-selection">
                
                
                
                
                    
                    <div class="versions-dropdown">
                    <div class="topnav-page-selection">
                        <a   href="">Community</a> <i class="fa fa-caret-down"></i>
                    </div class="topnav-page-selection">
                        <div class="versions-dropdown-content">
                        <ul>
                        
                            <li class="topnav-page-selection">
                            <a   href="/join-community/">Join Community</a>
                            </li class="topnav-page-selection">
                        
                            <li class="topnav-page-selection">
                            <a   href="/how-to-contribute/">How to contribute</a>
                            </li class="topnav-page-selection">
                        
                        </ul>
                        </div>
                    </div>
                
                
                <div class="topnav-page-selection">
                    <a href="https://github.com/apache/incubator-amoro" target="_blank">
                        <img src="https://amoro.apache.org//img/GitHub-Mark.png" target="_blank" class="top-navbar-logo"/>
                    </a>
                </div>
            </div>
            </topsection>
    </nav>

<body dir=" ltr">
    <section>
        <div class="grid-container toc-only">
            
            <div id="content" class="markdown-body">
                <div class="margin-for-toc"><h1 id="setup">Setup</h1>
<p>This guide describes two ways to deploy the Amoro demo environment: docker-compose or release packages. If you want to deploy by compiling the source code, please refer to <a href="/docs/latest/deployment/">Deployment</a>.</p>
<h2 id="setup-from-docker-compose">Setup from Docker-Compose</h2>
<p>The fastest way to deploy a <a href="/quick-demo/">Quick Demo</a> environment is to use docker-compose.</p>
<h3 id="requirements">Requirements</h3>
<p>Before starting to deploy Amoro based on Docker, please make sure that you have installed the docker-compose environment on your host. For information on installing Docker, please refer to <a href="https://docs.docker.com/get-docker/">Install Docker</a>.</p>
<div class="info">
    Linux or MacOS is recommended for use. If you are using a Windows system, consider using WSL2. For information on how to enable WSL2 and install Docker, please refer to <a href="https://docs.docker.com/desktop/install/windows-install/">Windows Installation</a>.
</div>
<p>After completing the Docker installation, please make sure that the docker-compose tool is installed <a href="https://github.com/docker/compose-cli/blob/main/INSTALL.md">Docker-Compose Installation</a>.</p>
<h3 id="bring-up-demo-cluster">Bring up demo cluster</h3>
<p>Before starting, please prepare a clean directory as the workspace for Amoro Demo deployment, and obtain the Amoro demo deployment script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd &lt;AMORO-WORKSPACE&gt;
</span></span><span style="display:flex;"><span>wget https://raw.githubusercontent.com/apache/incubator-amoro/master/docker/demo-cluster.sh
</span></span></code></pre></div><p>Execute the following shell command to launch a demo cluster using docker-compose:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bash demo-cluster.sh start
</span></span></code></pre></div><p>After executing the above command, there will be a <code>data</code> directory in the workspace directory for sharing files between different docker containers. You can use the following command to view all the running Docker containers:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker ps --format <span style="color:#e6db74">&#34;table {{.ID}}\t{{.Names}}\t{{.Status}}&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CONTAINER ID   NAMES       STATUS
</span></span><span style="display:flex;"><span>2a0d326c668f   datanode    Up <span style="color:#ae81ff">1</span> minutes
</span></span><span style="display:flex;"><span>8e6b1c36e6ba   namenode    Up <span style="color:#ae81ff">1</span> minutes
</span></span><span style="display:flex;"><span>1e11fb8187b3   quickdemo   Up <span style="color:#ae81ff">1</span> minutes
</span></span></code></pre></div><h2 id="setup-from-binary-release">Setup from binary release</h2>
<p>If installing Docker and related tools is not convenient, you can also deploy the Amoro demo cluster directly through the Amoro release package.</p>
<h3 id="requirements-1">Requirements</h3>
<p>Before starting, please make sure that Java 8 is installed and the JAVA_HOME environment variable is set.
Please make sure that <code>HADOOP_HOME</code> or <code>HADOOP_CONF_DIR</code> is not in the environment variables. If it is, please unset it first.</p>
<h3 id="setup-ams">Setup AMS</h3>
<p>Prepare a clean directory as the workspace for the Amoro demo cluster, and execute the following command to download Amoro and start AMS:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd &lt;AMORO-WORKSPACE&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Rplace version value with the latest Amoro version if needed</span>
</span></span><span style="display:flex;"><span>export AMORO_VERSION<span style="color:#f92672">=</span>0.6.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download the binary package of AMS</span>
</span></span><span style="display:flex;"><span>wget https://github.com/apache/incubator-amoro/releases/download/v<span style="color:#e6db74">${</span>AMORO_VERSION<span style="color:#e6db74">}</span>/amoro-<span style="color:#e6db74">${</span>AMORO_VERSION<span style="color:#e6db74">}</span>-bin.zip
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Unzip the package</span>
</span></span><span style="display:flex;"><span>unzip amoro-<span style="color:#e6db74">${</span>AMORO-VERSION<span style="color:#e6db74">}</span>-bin.zip
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Start AMS by script</span>
</span></span><span style="display:flex;"><span>cd amoro-<span style="color:#e6db74">${</span>AMORO-VERSION<span style="color:#e6db74">}</span> <span style="color:#f92672">&amp;&amp;</span> ./bin/ams.sh start
</span></span></code></pre></div><p>Access <a href="http://127.0.0.1:1630/">http://127.0.0.1:1630/</a> with a browser and log in to the system with <code>admin/admin</code>. If you can log in successfully, the deployment of AMS is successful.</p>
<h3 id="setup-flink-environment">Setup Flink environment</h3>
<p>Before starting the Quick Demo, you must also deploy the Flink execution environment. Execute the following command to download the Flink binary distribution package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd &lt;AMORO-WORKSPACE&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Rplace version value with the latest Amoro version if needed</span>
</span></span><span style="display:flex;"><span>AMORO_VERSION<span style="color:#f92672">=</span>0.6.0
</span></span><span style="display:flex;"><span>ICEBERG_VERSION<span style="color:#f92672">=</span>1.3.0
</span></span><span style="display:flex;"><span>FLINK_VERSION<span style="color:#f92672">=</span>1.15.3
</span></span><span style="display:flex;"><span>FLINK_MAJOR_VERSION<span style="color:#f92672">=</span>1.15
</span></span><span style="display:flex;"><span>FLINK_HADOOP_SHADE_VERSION<span style="color:#f92672">=</span>2.7.5
</span></span><span style="display:flex;"><span>APACHE_FLINK_URL<span style="color:#f92672">=</span>archive.apache.org/dist/flink
</span></span><span style="display:flex;"><span>MAVEN_URL<span style="color:#f92672">=</span>https://repo1.maven.org/maven2
</span></span><span style="display:flex;"><span>FLINK_CONNECTOR_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>MAVEN_URL<span style="color:#e6db74">}</span>/org/apache/flink
</span></span><span style="display:flex;"><span>AMORO_CONNECTOR_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>MAVEN_URL<span style="color:#e6db74">}</span>/com/apache/incubator-amoro
</span></span><span style="display:flex;"><span>ICEBERG_CONNECTOR_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>MAVEN_URL<span style="color:#e6db74">}</span>/org/apache/iceberg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download FLink binary package</span>
</span></span><span style="display:flex;"><span>wget <span style="color:#e6db74">${</span>APACHE_FLINK_URL<span style="color:#e6db74">}</span>/flink-<span style="color:#e6db74">${</span>FLINK_VERSION<span style="color:#e6db74">}</span>/flink-<span style="color:#e6db74">${</span>FLINK_VERSION<span style="color:#e6db74">}</span>-bin-scala_2.12.tgz
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Unzip Flink binary package</span>
</span></span><span style="display:flex;"><span>tar -zxvf flink-<span style="color:#e6db74">${</span>FLINK_VERSION<span style="color:#e6db74">}</span>-bin-scala_2.12.tgz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cd flink-<span style="color:#e6db74">${</span>FLINK_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download Flink Hadoop dependency</span>
</span></span><span style="display:flex;"><span>wget <span style="color:#e6db74">${</span>FLINK_CONNECTOR_URL<span style="color:#e6db74">}</span>/flink-shaded-hadoop-2-uber/<span style="color:#e6db74">${</span>FLINK_HADOOP_SHADE_VERSION<span style="color:#e6db74">}</span>-10.0/flink-shaded-hadoop-2-uber-<span style="color:#e6db74">${</span>FLINK_HADOOP_SHADE_VERSION<span style="color:#e6db74">}</span>-10.0.jar
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download Flink Aoro Connector</span>
</span></span><span style="display:flex;"><span>wget <span style="color:#e6db74">${</span>AMORO_CONNECTOR_URL<span style="color:#e6db74">}</span>/amoro-flink-runtime-<span style="color:#e6db74">${</span>FLINK_MAJOR_VERSION<span style="color:#e6db74">}</span>/<span style="color:#e6db74">${</span>AMORO_VERSION<span style="color:#e6db74">}</span>/amoro-flink-runtime-<span style="color:#e6db74">${</span>FLINK_MAJOR_VERSION<span style="color:#e6db74">}</span>-<span style="color:#e6db74">${</span>AMORO_VERSION<span style="color:#e6db74">}</span>.jar
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download Flink Iceberg Connector</span>
</span></span><span style="display:flex;"><span>wget <span style="color:#e6db74">${</span>ICEBERG_CONNECTOR_URL<span style="color:#e6db74">}</span>/iceberg-flink-runtime-<span style="color:#e6db74">${</span>FLINK_MAJOR_VERSION<span style="color:#e6db74">}</span>/<span style="color:#e6db74">${</span>ICEBERG_VERSION<span style="color:#e6db74">}</span>/iceberg-flink-runtime-<span style="color:#e6db74">${</span>FLINK_MAJOR_VERSION<span style="color:#e6db74">}</span>-<span style="color:#e6db74">${</span>ICEBERG_VERSION<span style="color:#e6db74">}</span>.jar
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Copy the necessary JAR files to the lib directory</span>
</span></span><span style="display:flex;"><span>mv flink-shaded-hadoop-2-uber-<span style="color:#e6db74">${</span>FLINK_HADOOP_SHADE_VERSION<span style="color:#e6db74">}</span>-10.0.jar lib
</span></span><span style="display:flex;"><span>mv amoro-flink-runtime-<span style="color:#e6db74">${</span>FLINK_MAJOR_VERSION<span style="color:#e6db74">}</span>-<span style="color:#e6db74">${</span>AMORO_VERSION<span style="color:#e6db74">}</span>.jar lib
</span></span><span style="display:flex;"><span>mv iceberg-flink-runtime-<span style="color:#e6db74">${</span>FLINK_MAJOR_VERSION<span style="color:#e6db74">}</span>-<span style="color:#e6db74">${</span>ICEBERG_VERSION<span style="color:#e6db74">}</span>.jar lib
</span></span><span style="display:flex;"><span>cp examples/table/ChangelogSocketExample.jar lib
</span></span></code></pre></div><p>Finally, you must modify the <code>flink-conf.yaml</code> configuration file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>vim conf/flink-conf.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Increase the number of slots to run more streaming tasks</span>
</span></span><span style="display:flex;"><span>taskmanager.numberOfTaskSlots: <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable checkpointing and to see data changes more quickly, set the checkpoint interval to 5 seconds.</span>
</span></span><span style="display:flex;"><span>execution.checkpointing.interval: 5s
</span></span></code></pre></div></div>
                
                    














<div id="toc" class="markdown-body">
    <div id="full">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#setup-from-docker-compose">Setup from Docker-Compose</a>
      <ul>
        <li><a href="#requirements">Requirements</a></li>
        <li><a href="#bring-up-demo-cluster">Bring up demo cluster</a></li>
      </ul>
    </li>
    <li><a href="#setup-from-binary-release">Setup from binary release</a>
      <ul>
        <li><a href="#requirements-1">Requirements</a></li>
        <li><a href="#setup-ams">Setup AMS</a></li>
        <li><a href="#setup-flink-environment">Setup Flink environment</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
            </div>
        </div>
    </section>
</body>















<script src="https://amoro.apache.org//js/jquery-1.11.0.js"></script>


<script src="https://amoro.apache.org//js/jquery.easing.min.js"></script>


<script type="text/javascript" src="https://amoro.apache.org//js/search.js"></script>


<script src="https://amoro.apache.org//js/bootstrap.min.js"></script>


<script src="https://amoro.apache.org//js/iceberg-theme.js"></script>



</html>